<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let's Make It STORY OF US</title>
    <style>
        html {
            scroll-behavior: smooth;
        }
        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .surprise-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ffd700, #ffed4a);
            padding: 40px 50px;
            border-radius: 30px;
            text-align: center;
            z-index: 2000;
            animation: surpriseShow 0.8s ease;
            box-shadow: 0 0 60px rgba(255, 215, 0, 0.9);
            border: 4px solid #fff;
            max-width: 90vw;
            max-height: 85vh;
            overflow-y: auto;
        }
        @keyframes surpriseShow {
            from { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.3) rotate(180deg); 
            }
            to { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1) rotate(0deg); 
            }
        }
        .surprise-popup h2 {
            color: #8e44ad;
            font-size: 2.8rem;
            margin: 0 0 25px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .surprise-popup p {
            color: #8e44ad;
            font-size: 1.2rem;
            margin: 0;
            font-style: italic;
            font-weight: 500;
            line-height: 1.8;
        }
        .quote-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            padding: 45px;
            border-radius: 25px;
            text-align: center;
            z-index: 2000;
            animation: quoteShow 0.6s ease;
            box-shadow: 0 0 50px rgba(155, 89, 182, 0.8);
            border: 3px solid rgba(255, 255, 255, 0.3);
            max-width: 80vw;
        }
        @keyframes quoteShow {
            from { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.8); 
            }
            to { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1); 
            }
        }
        .quote-popup h3 {
            color: white;
            font-size: 2.2rem;
            margin: 0 0 20px 0;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }
        .quote-popup p {
            color: #f8f8f8;
            font-size: 1.3rem;
            margin: 0 0 15px 0;
            font-style: italic;
            line-height: 1.6;
        }
        .quote-popup small {
            color: #e8e8e8;
            font-size: 1rem;
            opacity: 0.8;
        }
        body {
            margin: 0;
            overflow: auto;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            display: flex;
            justify-content: center;
            min-height: 100vh;
            flex-direction: column;
            font-family: 'Crimson Text', serif;
            position: relative;
        }
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }
        #audio-controls {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 24px;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        #audio-controls:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }
        #change-song {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            border: none;
            padding: 12px 18px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            color: white;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-weight: bold;
        }
        #change-song:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.6);
        }
        #love-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 28px;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(255, 0, 100, 0.4);
            transition: all 0.3s ease;
            animation: heartbeat 2s infinite;
        }
        #love-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 0, 100, 0.6);
        }
        #surprise-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #ffd700, #ffed4a);
            border: none;
            padding: 18px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 30px;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.5);
            transition: all 0.3s ease;
            animation: bounce 2s infinite;
        }
        #surprise-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(255, 215, 0, 0.7);
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        #memory-quote-button {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            border: none;
            padding: 18px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 30px;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(155, 89, 182, 0.5);
            transition: all 0.3s ease;
            animation: glow 3s infinite;
        }
        #memory-quote-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(155, 89, 182, 0.7);
        }
        @keyframes glow {
            0%, 100% { box-shadow: 0 4px 20px rgba(155, 89, 182, 0.5); }
            50% { box-shadow: 0 8px 30px rgba(155, 89, 182, 0.8); }
        }
        #love-message {
            text-align: center;
            color: white;
            margin-top: 80px;
            font-size: 2.5rem;
            text-shadow: 0 0 20px #ff66b2, 0 0 40px #ff66b2;
            animation: pulse 3s infinite;
            padding: 0 20px;
            font-weight: 600;
        }
        #subtitle {
            text-align: center;
            color: #ffb3d9;
            font-size: 1.4rem;
            margin-bottom: 40px;
            font-style: italic;
            text-shadow: 0 0 10px rgba(255, 179, 217, 0.5);
        }
        @keyframes pulse {
            0% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.02); }
            100% { opacity: 0.8; transform: scale(1); }
        }
        #button-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px;
            max-width: 1200px;
            align-self: center;
            padding: 20px;
        }
        .image-button {
            background: linear-gradient(135deg, #ff6b9d, #c44569, #ff6b9d);
            background-size: 200% 200%;
            border: none;
            padding: 18px 15px;
            cursor: pointer;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            font-size: 16px;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(255, 0, 100, 0.3);
            position: relative;
            overflow: hidden;
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .image-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(255, 0, 100, 0.5);
            animation: none;
            background: linear-gradient(135deg, #ff8fab, #ff6b9d);
        }
        .image-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }
        .image-button:hover::before {
            left: 100%;
        }
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(255, 0, 100, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1000;
            border: 3px solid #ff6b9d;
            backdrop-filter: blur(20px);
            animation: popupFadeIn 0.5s ease;
        }
        @keyframes popupFadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        .popup img, .popup video {
            max-width: 85vw;
            max-height: 70vh;
            border-radius: 15px;
            border: 4px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .popup-close {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            color: white;
            font-size: 32px;
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255, 0, 100, 0.4);
        }
        .popup-close:hover {
            background: linear-gradient(135deg, #ff8fab, #ff6b9d);
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 0, 100, 0.6);
        }
        .nav-buttons {
            display: flex;
            gap: 25px;
            margin-top: 20px;
        }
        .nav-button {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            border: none;
            padding: 15px 30px;
            cursor: pointer;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(255, 0, 100, 0.4);
        }
        .nav-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 0, 100, 0.6);
        }
        .memory-caption {
            color: white;
            margin-top: 20px;
            text-align: center;
            font-style: italic;
            font-size: 18px;
            max-width: 85vw;
            animation: fadeIn 1s;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .petal {
            position: fixed;
            z-index: -1;
            opacity: 0.8;
            font-size: 20px;
        }
        #countdown {
            color: white;
            text-align: center;
            font-size: 1.8rem;
            margin: 30px 0;
            text-shadow: 0 0 15px rgba(255, 179, 217, 0.8);
            font-weight: 600;
        }
        .special-moments {
            color: white;
            margin: 0 auto 40px auto;
            text-align: center;
            max-width: 800px;
            padding: 0 20px;
            font-size: 1.1rem;
        }
        .footer {
            color: #ffb3d9;
            text-align: center;
            padding: 30px;
            font-size: 1rem;
            margin-top: 40px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        .love-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            z-index: 2000;
            animation: lovePopupShow 0.5s ease;
            box-shadow: 0 0 50px rgba(255, 107, 157, 0.8);
        }
        @keyframes lovePopupShow {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        .love-popup h2 {
            color: white;
            font-size: 2.5rem;
            margin: 0 0 20px 0;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        .love-popup p {
            color: white;
            font-size: 1.3rem;
            margin: 0;
            font-style: italic;
        }
        @media (max-width: 768px) {
            #love-message {
                font-size: 2rem;
                margin-top: 100px;
            }
            #button-container {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 10px;
                margin: 20px;
                padding: 15px;
            }
            .image-button {
                padding: 15px 10px;
                font-size: 14px;
            }
            .popup {
                padding: 20px;
                margin: 10px;
            }
            .popup img, .popup video {
                max-width: 95vw;
                max-height: 60vh;
            }
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <canvas id="canvas"></canvas>
    
    <button id="change-song" onclick="changeSong()">üéµ Change Song</button>
    
    <div id="audio-controls" onclick="toggleAudio()">
        <span id="audio-icon">üîä</span> Music
    </div>
    
    <button id="love-button" onclick="showLove()">‚ù§Ô∏è</button>
    
    <button id="surprise-button" onclick="showSurprise()">üéÅ</button>
    
    <button id="memory-quote-button" onclick="showRandomQuote()">üí≠</button>
    
    <!-- Updated audio sources -->
    <audio id="background-music-1" loop>
        <source src="song1.mp3" type="audio/mpeg">
        Your browser does not support the audio tag.
    </audio>
    
    <audio id="background-music-2" loop>
        <source src="song2.mp3" type="audio/mpeg">
        Your browser does not support the audio tag.
    </audio>
    
    <h1 id="love-message">Our Beautiful Journey Together - I Want this to Last FOREVER!!!!</h1>
    <p id="subtitle">Every moment with you is a treasure... ‚ú®</p>
    
    <div id="countdown"></div>
    
    <div class="special-moments">
        30 precious memories that tell our love story üíï
    </div>
    
    <div id="button-container"></div>
    
    <div class="footer">
        Created with ‚ù§Ô∏è for the love of my life 
    </div>

    <script>
        // Reduced to 30 captions for 30 images/videos
        const captions = [
            "The day we realized we were meant for each other.",
            "Your smile in this moment took my breath away.",
            "Remember when we couldn't stop laughing for hours?",
            "This was the beginning of our greatest adventure.",
            "The way you looked at me that day changed everything.",
            "Our first holiday together - I knew then I'd found home.",
            "Dancing in the rain never felt so perfect.",
            "That sunset had nothing on the glow in your eyes.",
            "The day we promised to face all of life's challenges together.",
            "Creating memories that would last a lifetime.",
            "You've always been my favorite view.",
            "This spontaneous adventure became one of our most treasured memories.",
            "The moment I realized I never wanted to let you go.",
            "Sometimes a single moment captures everything I feel for you.",
            "We were so tired but so happy that day.",
            "Your laughter is still my favorite sound in the world.",
            "This day showed me what true happiness feels like.",
            "Even in silence, we found our perfect harmony.",
            "The world stopped when you held my hand here.",
            "That look still gives me butterflies.",
            "This trip changed us in the most beautiful way.",
            "Remember how nervous we were? Look at us now.",
            "I fall in love with you all over again every time I see this.",
            "The day our hearts truly became one.",
            "Your joy in this moment is everything to me.",
            "Who knew a simple day could become such a precious memory?",
            "This is what love looks like - messy, real, and perfect.",
            "The first time I saw the universe in your eyes.",
            "Our love story, written in small perfect moments like this.",
            "This moment - so simple yet infinitely precious to my heart."
        ];
        
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        // Responsive canvas
        window.addEventListener('resize', function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        // Enhanced heart animation with more dynamic effects
        function drawHeart(x, y, size, color) {
            ctx.save();
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.bezierCurveTo(x - size / 2, y - size / 2, x - size, y + size / 3, x, y + size);
            ctx.bezierCurveTo(x + size, y + size / 3, x + size / 2, y - size / 2, x, y);
            ctx.fill();
            
            // Enhanced glow effect
            ctx.shadowColor = color;
            ctx.shadowBlur = 25;
            ctx.fill();
            ctx.restore();
        }
        
        // More varied hearts with enhanced colors
        let hearts = [];
        const heartColors = [
            'rgba(255, 107, 157, 0.9)',
            'rgba(255, 51, 153, 0.8)',
            'rgba(196, 69, 105, 0.8)',
            'rgba(255, 139, 171, 0.9)',
            'rgba(255, 0, 102, 0.8)',
            'rgba(240, 84, 146, 0.9)'
        ];
        
        for (let i = 0; i < 80; i++) {
            hearts.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 30 + 8,
                speed: Math.random() * 2 + 0.3,
                color: heartColors[Math.floor(Math.random() * heartColors.length)],
                opacity: Math.random() * 0.7 + 0.3,
                pulse: Math.random() * 0.03 + 0.01,
                pulseDirection: 1,
                rotate: Math.random() * 0.02 - 0.01,
                sway: Math.random() * 0.01 + 0.005
            });
        }
        
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            hearts.forEach(heart => {
                ctx.globalAlpha = heart.opacity;
                drawHeart(heart.x, heart.y, heart.size, heart.color);
                
                // Move heart upward
                heart.y -= heart.speed;
                
                // Enhanced sideways motion
                heart.x += Math.sin(Date.now() * 0.001 + hearts.indexOf(heart)) * heart.sway;
                
                // Pulse size effect
                heart.size += heart.pulse * heart.pulseDirection;
                if (heart.size > 35 || heart.size < 8) {
                    heart.pulseDirection *= -1;
                }
                
                // Reset when off screen
                if (heart.y < -heart.size) {
                    heart.y = canvas.height + heart.size;
                    heart.x = Math.random() * canvas.width;
                }
            });
            
            ctx.globalAlpha = 1;
            requestAnimationFrame(animate);
        }
        animate();
        
        // Enhanced rose petals
        const petalCount = 25;
        for (let i = 0; i < petalCount; i++) {
            createPetal();
        }
        
        function createPetal() {
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.top = -50 + 'px';
            petal.style.transform = `rotate(${Math.random() * 360}deg)`;
            const petalTypes = ['üåπ', 'üíñ', 'üíï', 'üå∏', 'üíê'];
            petal.innerHTML = petalTypes[Math.floor(Math.random() * petalTypes.length)];
            petal.style.fontSize = Math.random() * 15 + 20 + 'px';
            petal.style.filter = `hue-rotate(${Math.random() * 60}deg)`;
            
            document.body.appendChild(petal);
            
            const duration = Math.random() * 15 + 12;
            const horizontalMovement = Math.random() * 150 - 75;
            
            petal.style.animation = `fall ${duration}s linear infinite, sway ${duration/4}s ease-in-out infinite alternate`;
            
            setTimeout(() => {
                petal.remove();
                createPetal();
            }, duration * 1000);
        }
        
        // Updated audio controls with dual music support
        const audio1 = document.getElementById("background-music-1");
        const audio2 = document.getElementById("background-music-2");
        const audioIcon = document.getElementById("audio-icon");
        let isPlaying = false;
        let currentAudio = audio1; // Track which audio is currently active
        
        function toggleAudio() {
            if (currentAudio.paused) {
                currentAudio.play();
                audioIcon.textContent = "üîá";
                isPlaying = true;
            } else {
                currentAudio.pause();
                audioIcon.textContent = "üîä";
                isPlaying = false;
            }
        }
        
        function changeSong() {
            // Pause current audio
            currentAudio.pause();
            
            // Switch to the other audio
            if (currentAudio === audio1) {
                currentAudio = audio2;
            } else {
                currentAudio = audio1;
            }
            
            // If music was playing, start the new song
            if (isPlaying) {
                currentAudio.play();
                audioIcon.textContent = "üîá";
            }
            
            // Show song change notification
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.top = '120px';
            notification.style.left = '50%';
            notification.style.transform = 'translateX(-50%)';
            notification.style.background = 'linear-gradient(135deg, #3498db, #2980b9)';
            notification.style.color = 'white';
            notification.style.padding = '10px 20px';
            notification.style.borderRadius = '20px';
            notification.style.zIndex = '1000';
            notification.style.animation = 'fadeInOut 2s ease';
            notification.innerHTML = `üéµ Song Changed! üéµ`;
            
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes fadeInOut {
                    0% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                    30% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    70% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(notification);
            
            setTimeout(() => notification.remove(), 2000);
        }
       
        // Love button function
        function showLove() {
            const loveMessages = [
                "I Love You So Much! üíï",
                "You're My Everything! ‚ù§Ô∏è",
                "Forever and Always! üíñ",
                "My Heart Belongs to You! üíò",
                "You Complete Me! üíû",
                "I'm So Lucky to Have You! ü•∞",
                "You Make Every Day Magical! ‚ú®",
                "My Love Forever! üëë",
                "You're My Dream Come True! üåü"
            ];
            
            const popup = document.createElement('div');
            popup.className = 'love-popup';
            
            const message = loveMessages[Math.floor(Math.random() * loveMessages.length)];
            popup.innerHTML = `
                <h2>${message}</h2>
                <p>Every day with you is a blessing ‚ú®</p>
            `;
            
            document.body.appendChild(popup);
            
            // Create floating hearts effect
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = '100vh';
                    heart.style.fontSize = Math.random() * 20 + 20 + 'px';
                    heart.style.zIndex = '1500';
                    heart.style.pointerEvents = 'none';
                    heart.style.animation = 'float-up 3s ease-out forwards';
                    
                    const style = document.createElement('style');
                    style.innerHTML = `
                        @keyframes float-up {
                            to { 
                                transform: translateY(-120vh) rotate(360deg); 
                                opacity: 0;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                    
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 3000);
                }, i * 100);
            }
            
            setTimeout(() => popup.remove(), 4000);
        }

        // Surprise button function (Sequential Shayari)
        let surpriseIndex = 0; // start from first

        function showSurprise() {
            const surprises = [
                { 
                    title: "My Heart's Poetry! üíò", 
                    message: "Jab bhi chale chaand, tu ban jaa taara mera,<br>Mere saath chal, main banunga sahaara tera.<br>Bechara nahi yaara tera,<br>Tu sabse kareeb, tu sabse sahi,<br>Tu banata dhoomketu, sitara mera.<br>Andheron mein bhi tu laga raha ujala mera ‚ú®" 
                },
                { 
                    title: "When I Look At You! üåü", 
                    message: "When I look at the sky<br>All I see is your face<br>Damn that's not a lie<br>You are the apple of my eye<br>People fall in love but I want you to fly<br>I love you so much sometimes I even don't know why?<br>I don't wanna say goodbye<br>I'm going to love you till the day I die üíï" 
                },
                { 
                    title: "My Love Confession! ‚ù§Ô∏è", 
                    message: "I know my words are dry but my feelings are wet<br>I want to see every sunset with you<br>Sometimes I feel you don't even have the clue (how much I love you)<br>Baby hold my hand even though the worst part comes true<br>I love you. who? I love you!!!!<br>I think you knew that I love you<br>You infected me with love flu!!<br>That day in the saree you were lookin' like hot as barbeque<br>Samjhi tu?<br>I love you!!!ü•∫‚ù§Ô∏è" 
                }
            ];

            // pick current shayari and then move to next
            const surprise = surprises[surpriseIndex];
            surpriseIndex = (surpriseIndex + 1) % surprises.length; // loop back

            const popup = document.createElement('div');
            popup.className = 'surprise-popup';
            
            popup.innerHTML = `
                <h2>${surprise.title}</h2>
                <p style="line-height: 1.6; text-align: left; max-width: 600px;">${surprise.message}</p>
            `;
            
            document.body.appendChild(popup);

            // Sparkle effect
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.innerHTML = ['‚ú®', '‚≠ê', 'üåü', 'üí´'][Math.floor(Math.random() * 4)];
                    sparkle.style.position = 'fixed';
                    sparkle.style.left = Math.random() * 100 + 'vw';
                    sparkle.style.top = Math.random() * 100 + 'vh';
                    sparkle.style.fontSize = Math.random() * 15 + 15 + 'px';
                    sparkle.style.zIndex = '1500';
                    sparkle.style.pointerEvents = 'none';
                    sparkle.style.animation = 'sparkle 2s ease-out forwards';
                    
                    const style = document.createElement('style');
                    style.innerHTML = `
                        @keyframes sparkle {
                            0% { transform: scale(0) rotate(0deg); opacity: 1; }
                            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
                            100% { transform: scale(0) rotate(360deg); opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);
                    
                    document.body.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 2000);
                }, i * 50);
            }

            setTimeout(() => popup.remove(), 5000);
        }

        // Random quote function
        function showRandomQuote() {
            const quotes = [
                { quote: "In a world full of temporary things, you are a perpetual feeling.", author: "My Heart" },
                { quote: "You are my today and all of my tomorrows.", author: "Leo Christopher" },
                { quote: "I love you not only for what you are, but for what I am when I am with you.", author: "Elizabeth Barrett Browning" },
                { quote: "Every love story is beautiful, but ours is my favorite.", author: "Unknown" },
                { quote: "You are my sun, my moon, and all my stars.", author: "E.E. Cummings" },
                { quote: "I fell in love with you because of a million tiny things you never knew you were doing.", author: "Unknown" },
                { quote: "You make me want to be a better person.", author: "As Good as It Gets" },
                { quote: "I choose you. And I'll choose you over and over and over. Without pause, without a doubt, in a heartbeat. I'll keep choosing you.", author: "Unknown" },
                { quote: "You are the finest, loveliest, tenderest, and most beautiful person I have ever known‚Äîand even that is an understatement.", author: "F. Scott Fitzgerald" }
            ];
            
            const popup = document.createElement('div');
            popup.className = 'quote-popup';
            
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            popup.innerHTML = `
                <h3>üíï Love Quote üíï</h3>
                <p>"${randomQuote.quote}"</p>
                <small>- ${randomQuote.author}</small>
            `;
            
            document.body.appendChild(popup);
            
            // Create gentle floating effect
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const quote = document.createElement('div');
                    quote.innerHTML = ['üíï', 'üíñ', 'üíó', 'üíò'][Math.floor(Math.random() * 4)];
                    quote.style.position = 'fixed';
                    quote.style.left = Math.random() * 100 + 'vw';
                    quote.style.top = '110vh';
                    quote.style.fontSize = Math.random() * 10 + 15 + 'px';
                    quote.style.zIndex = '1500';
                    quote.style.pointerEvents = 'none';
                    quote.style.animation = 'gentle-float 4s ease-out forwards';
                    
                    const style = document.createElement('style');
                    style.innerHTML = `
                        @keyframes gentle-float {
                            to { 
                                transform: translateY(-130vh) rotate(180deg); 
                                opacity: 0;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                    
                    document.body.appendChild(quote);
                    
                    setTimeout(() => quote.remove(), 4000);
                }, i * 150);
            }
            
            setTimeout(() => popup.remove(), 6000);
        }
        
        // Birthday countdown
        function updateCountdown() {
            const now = new Date();
            const birthday = new Date(now.getFullYear(), 4, 23); // May 23 (month is 0-indexed, so 4 = May)
            
            if (now > birthday) {
                birthday.setFullYear(birthday.getFullYear() + 1);
            }
            
            const difference = birthday - now;
            const days = Math.floor(difference / (1000 * 60 * 60 * 24));
            const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
            
            const countdownEl = document.getElementById('countdown');
            
            if (days === 0 && hours === 0 && minutes === 0) {
                countdownEl.innerHTML = "üéÇ Happy Birthday My Love! üéÇ";
            } else {
                countdownEl.innerHTML = `üåπ ${days} days, ${hours} hours, ${minutes} minutes until My Love's Birthday üåπ`;
            }
        }
        
        updateCountdown();
        setInterval(updateCountdown, 60000);
        
        // Updated for 30 images/videos
        const totalImages = 30;
        let currentImageIndex = 1;
        
        // Support for both images and videos
        function createPopup(imageIndex) {
            const existingPopups = document.querySelectorAll('.popup');
            existingPopups.forEach(popup => popup.remove());
            
            currentImageIndex = imageIndex;
            
            const popup = document.createElement("div");
            popup.className = "popup";
            popup.id = "current-popup";
            
            const closeBtn = document.createElement("div");
            closeBtn.className = "popup-close";
            closeBtn.innerHTML = "√ó";
            closeBtn.onclick = () => popup.remove();
            
            // Create image element
            const media = document.createElement("img");
            media.src = `images/image${imageIndex}.jpg`;
            
            media.onload = () => {
                media.style.opacity = "0";
                setTimeout(() => {
                    media.style.transition = "opacity 0.5s";
                    media.style.opacity = "1";
                }, 100);
            };
            
            const caption = document.createElement("div");
            caption.className = "memory-caption";
            caption.textContent = captions[imageIndex - 1];
            
            const navButtons = document.createElement("div");
            navButtons.className = "nav-buttons";
            
            const prevButton = document.createElement("button");
            prevButton.className = "nav-button";
            prevButton.innerHTML = "‚¨ÖÔ∏è Previous";
            prevButton.onclick = (e) => {
                e.stopPropagation();
                let prevIndex = currentImageIndex - 1;
                if (prevIndex < 1) prevIndex = totalImages;
                createPopup(prevIndex);
            };
            
            const nextButton = document.createElement("button");
            nextButton.className = "nav-button";
            nextButton.innerHTML = "Next ‚û°Ô∏è";
            nextButton.onclick = (e) => {
                e.stopPropagation();
                let nextIndex = currentImageIndex + 1;
                if (nextIndex > totalImages) nextIndex = 1;
                createPopup(nextIndex);
            };
            
            navButtons.appendChild(prevButton);
            navButtons.appendChild(nextButton);
            
            popup.appendChild(closeBtn);
            popup.appendChild(media);
            popup.appendChild(caption);
            popup.appendChild(navButtons);
            
            document.body.appendChild(popup);
            
            popup.addEventListener('click', (e) => {
                if (e.target === popup) {
                    popup.remove();
                }
            });
        }
        
        // Create gallery buttons for 30 memories
        const buttonContainer = document.getElementById("button-container");
        const loveIcons = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíî', 'üíò', 'üíù', 'üíû', 'üíü', 'ü•∞'];
        
        for (let i = 1; i <= totalImages; i++) {
            let button = document.createElement("button");
            button.className = "image-button";
            const randomIcon = loveIcons[Math.floor(Math.random() * loveIcons.length)];
            button.innerHTML = `${randomIcon} Memory ${i}`;
            button.onclick = () => createPopup(i);
            buttonContainer.appendChild(button);
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (document.getElementById('current-popup')) {
                if (event.key === 'ArrowLeft') {
                    let prevIndex = currentImageIndex - 1;
                    if (prevIndex < 1) prevIndex = totalImages;
                    createPopup(prevIndex);
                } else if (event.key === 'ArrowRight') {
                    let nextIndex = currentImageIndex + 1;
                    if (nextIndex > totalImages) nextIndex = 1;
                    createPopup(nextIndex);
                } else if (event.key === 'Escape') {
                    document.getElementById('current-popup').remove();
                }
            }
        });
        
        // Enhanced auto-play with user interaction
        document.addEventListener('click', function() {
            if (currentAudio.paused && !isPlaying) {
                currentAudio.play().then(() => {
                    audioIcon.textContent = "üîá";
                    isPlaying = true;
                }).catch(e => {
                    console.log("Autoplay prevented");
                });
            }
        }, { once: true });
        
        // Add some CSS animations for falling petals
        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes fall {
                to { 
                    transform: translateY(120vh) rotate(720deg); 
                    opacity: 0;
                }
            }
            @keyframes sway {
                0%, 100% { transform: translateX(0) rotate(0deg); }
                50% { transform: translateX(50px) rotate(180deg); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
